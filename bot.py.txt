
import telebot
import random

# ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª Ø±Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†
TOKEN = "7703694453:AAH6oEJEj4KJwvWj2IqJ7sRmMUnuu2JHyek"
bot = telebot.TeleBot(TOKEN)

# Ø°Ø®ÛŒØ±Ù‡ ÙˆØ¶Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† (Ø¹Ø¯Ø¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ùˆ ØªØ¹Ø¯Ø§Ø¯ ØªÙ„Ø§Ø´â€ŒÙ‡Ø§)
users = {}

@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.reply_to(message, "Ø³Ù„Ø§Ù…! ğŸ¯ Ù…Ù† ÛŒÚ© Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† Û± ØªØ§ Û±Û°Û° Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù…. Ø­Ø¯Ø³ Ø¨Ø²Ù† Ø¨Ø¨ÛŒÙ† Ú†ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù…! Ø¹Ø¯Ø¯ Ø±Ùˆ Ø¨Ø±Ø§Ù… Ø¨ÙØ±Ø³Øª.")

    # Ø§ÛŒØ¬Ø§Ø¯ Ø¹Ø¯Ø¯ ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±
    users[message.chat.id] = {
        "target": random.randint(1, 100),
        "attempts": 0
    }

@bot.message_handler(func=lambda message: message.text.isdigit())
def guess_number(message):
    user_id = message.chat.id

    if user_id not in users:
        bot.reply_to(message, "Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø³ØªÙˆØ± /start ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ú©Ù†!")
        return
    
    guess = int(message.text)
    users[user_id]["attempts"] += 1
    target = users[user_id]["target"]

    if guess < target:
        bot.reply_to(message, "ğŸ”¼ Ø¹Ø¯Ø¯ Ø¨Ø²Ø±Ú¯â€ŒØªØ±Ù‡! Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø­Ø¯Ø³ Ø¨Ø²Ù†.")
    elif guess > target:
        bot.reply_to(message, "ğŸ”½ Ø¹Ø¯Ø¯ Ú©ÙˆÚ†Ú©â€ŒØªØ±Ù‡! Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø­Ø¯Ø³ Ø¨Ø²Ù†.")
    else:
        attempts = users[user_id]["attempts"]
        bot.reply_to(message, f"ğŸ‰ Ø¢ÙØ±ÛŒÙ†! Ø¹Ø¯Ø¯ {target} Ø±Ùˆ Ø¯Ø± {attempts} ØªÙ„Ø§Ø´ Ø­Ø¯Ø³ Ø²Ø¯ÛŒ! Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯ /start Ø±Ùˆ Ø¨ÙØ±Ø³Øª.")
        del users[user_id]  # Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ù„ÛŒØ³Øª ØªØ§ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨ØªÙˆØ§Ù†Ø¯ Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯.

# Ø§Ø¬Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª
bot.polling()